!function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return o(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var i=t(16),a=r(i),s=t(6),u=r(s),l=t(8),c=r(l),f=t(18),d=r(f),p=function(){function t(){o(this,t),this._tasks=new u["default"](c["default"].findAll()),a["default"].on("tasks:filter",this._handleFilter,this),a["default"].on("tasks:new",this._handleNew,this);var e=new d["default"]({tasks:this._tasks}),n=e.render().el,r=document.body;r.insertBefore(n,r.firstChild)}return t.prototype._handleNew=function(t){this._tasks.add(t)},t.prototype._handleFilter=function(t){var e=void 0;e="open"===t?c["default"].findOpen():c["default"].findAll(),this._tasks.reset(e)},t}();n["default"]=new p,e.exports=n["default"]},{16:16,18:18,6:6,8:8}],2:[function(t,e,n){},{}],3:[function(t,e,n){(function(r){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof r?o=r:"undefined"!=typeof self&&(o=self),o.jade=t()}}(function(){return function e(n,r,o){function i(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};n[s][0].call(f.exports,function(t){var e=n[s][1][t];return i(e?e:t)},f,f.exports,e,n,r,o)}return r[s].exports}for(var a="function"==typeof t&&t,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";function r(t){return null!=t&&""!==t}function o(t){return(Array.isArray(t)?t.map(o):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(r).join(" ")}n.merge=function i(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=i(n,t[o]);return n}var a=t["class"],s=e["class"];(a||s)&&(a=a||[],s=s||[],Array.isArray(a)||(a=[a]),Array.isArray(s)||(s=[s]),t["class"]=a.concat(s).filter(r));for(var u in e)"class"!=u&&(t[u]=e[u]);return t},n.joinClasses=o,n.cls=function(t,e){for(var r=[],i=0;i<t.length;i++)r.push(e&&e[i]?n.escape(o([t[i]])):o(t[i]));var a=o(r);return a.length?' class="'+a+'"':""},n.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},n.attr=function(t,e,r,o){return"style"===t&&(e=n.style(e)),"boolean"==typeof e||null==e?e?" "+(o?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?(-1!==JSON.stringify(e).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),e&&"function"==typeof e.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'"):r?(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n.escape(e)+'"'):(e&&"function"==typeof e.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e+'"')},n.attrs=function(t,e){var r=[],i=Object.keys(t);if(i.length)for(var a=0;a<i.length;++a){var s=i[a],u=t[s];"class"==s?(u=o(u))&&r.push(" "+s+'="'+u+'"'):r.push(n.attr(s,u,!1,e))}return r.join("")},n.escape=function(t){var e=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return e===""+t?t:e},n.rethrow=function a(e,n,r,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||o))throw e.message+=" on line "+r,e;try{o=o||t(2).readFileSync(n,"utf8")}catch(i){a(e,null,r)}var s=3,u=o.split("\n"),l=Math.max(r-s,0),c=Math.min(u.length,r+s),s=u.slice(l,c).map(function(t,e){var n=e+l+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+r+"\n"+s+"\n\n"+e.message,e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n.__esModule=!0;var a=t(13),s=r(a),u=function(){function t(){o(this,t),this._subviews=[],this._el=null,this._events=new s["default"](this._el)}return t.prototype.bind=function(t,e,n){this._events.bind(t,e,n,this)},t.prototype.query=function(t){return this.el.querySelector(t)},t.prototype.queryAll=function(t){return Array.prototype.slice.call(this.el.querySelectorAll(t))},t.prototype.registerSubview=function(t){this._subviews.push(t)},t.prototype.remove=function(){this._events.unbind(),this._subviews.forEach(function(t){return t.remove()})},i(t,[{key:"el",get:function(){return this._el},set:function(t){this._events.unbind(),this._el=t,this._events.rebind(t)}}]),t}();n["default"]=u,e.exports=n["default"]},{13:13}],5:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};n.__esModule=!0;var a=t(4),s=r(a),u=function(t){function e(n){var r=n.el,i=n.collection,a=n.view;o(this,e),t.call(this),this._view=a,this.el=r,this.collection=i,this.collection.on("reset",this._handleReset,this),this.collection.on("add",this._handleAdd,this)}return i(e,t),e.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.collection.forEach(function(n){var r=new t._view({model:n});r.render(),t.registerSubview(r),e.appendChild(r.el)}),this.el.appendChild(e),this},e.prototype._handleReset=function(){this._subviews.forEach(function(t){return t.remove()}),this._subviews=[],this.render()},e.prototype._handleAdd=function(t){var e=new this._view({model:t});e.render(),this.registerSubview(e),this.el.appendChild(e.el)},e}(s["default"]);n["default"]=u,e.exports=n["default"]},{4:4}],6:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var i=t(14),a=r(i),s=function(){function t(){var t=void 0===arguments[0]?[]:arguments[0];o(this,e),this.models=[],this.reset(t)}var e=t;return e.prototype.forEach=function(){var t;return(t=this.models).forEach.apply(t,arguments)},e.prototype.add=function(t){this.models.push(t),t.collection=this,this.trigger("add",t,this)},e.prototype.remove=function(t){var e=this.models.indexOf(t);if(-1!==e){var n=this.models[e];this.models.splice(e,1),n.collection=null,this.trigger("remove",n,this)}},e.prototype.reset=function(t){var e=this;this.models.forEach(function(t){return t.collection=null}),this.models=[].concat(t),this.models.forEach(function(t){return t.collection=e}),this.trigger("reset",t,this)},t=a["default"](t)||t}();n["default"]=s,e.exports=n["default"]},{14:14}],7:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};n.__esModule=!0;var a=t(4),s=r(a),u=t(5),l=r(u),c=function(t){function e(){var n=void 0===arguments[0]?{}:arguments[0],r=n.template,i=void 0===r?null:r,a=n.model,s=void 0===a?null:a;o(this,e),t.call(this),this._template=i,this.model=s}return i(e,t),e.prototype.render=function(){return this.renderTemplate(),this},e.prototype.renderCollection=function(t,e,n){var r=new l["default"]({el:this.query(n),collection:t,view:e});this.registerSubview(r),r.render()},e.prototype.renderSubview=function(t,e){this.registerSubview(t),t.render(),this.query(e).appendChild(t.el)},e.prototype.renderTemplate=function(){var t=this.model&&{model:this.model}||{},e=this._template(t),n=document.createElement("div");n.innerHTML=e;var r=n.firstChild;this.el&&this.el.parentNode&&this.el.parentNode.replaceChild(r,this.el),this.el=r},e.prototype.remove=function(){t.prototype.remove.call(this),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e}(s["default"]);n["default"]=c,e.exports=n["default"]},{4:4,5:5}],8:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var i=t(15),a=r(i),s=function(){function t(){var e=void 0===arguments[0]?{}:arguments[0],n=e.id,r=void 0===n?null:n,i=e.completed,a=void 0===i?!1:i,s=e.name;o(this,t),this.collection=null,this.id=r,this.completed=!!a,this.name=s}return t.prototype.save=function(){null===this.id&&(this.id=String(Date.now())),t.storage.put(this.id,this)},t.prototype["delete"]=function(){t.storage["delete"](this.id),this.collection&&this.collection.remove(this),this.id=null},t.prototype.toJSON=function(){return{id:this.id,completed:this.completed,name:this.name}},t.findAll=function(){return t.find()},t.findOpen=function(){return t.find(function(t){return!t.completed})},t.find=function(e){var n=t.storage.list();return e&&(n=n.filter(e)),n.map(function(e){return new t(e)})},t}();s.storage=new a["default"]("tasks"),n["default"]=s,e.exports=n["default"]},{15:15}],9:[function(t,e,n){t(3);e.exports=function(t){var e=[];return e.push('<div class="radiogroup"><span class="radiogroup__label">Show</span><button type="button" data-variant="all" class="radiogroup__radio radiogroup__radio_checked">All tasks</button><button type="button" data-variant="open" class="radiogroup__radio">Only open tasks</button></div>'),e.join("")}},{3:3}],10:[function(t,e,n){t(3);e.exports=function(t){var e=[];return e.push('<main class="app paper"><header class="app__header"><h1 class="app__title">Stuff I\'ve got to do</h1></header><ul class="app__task-list"></ul><div class="app__task-form"></div><footer class="app__footer"></footer></main>'),e.join("")}},{3:3}],11:[function(t,e,n){t(3);e.exports=function(t){var e=[];return e.push('<form class="task-form"><input placeholder="Add a new task ..." class="task-form__name"/></form>'),e.join("")}},{3:3}],12:[function(t,e,n){var r=t(3);e.exports=function(t){var e,n=[],o=t||{};return function(t){n.push("<li"+r.cls(["task",{task_completed:t.completed}],[null,!0])+'><input type="checkbox"'+r.attr("checked",t.completed,!0,!1)+' class="task__checkbox"/><span class="task__name">'+r.escape(null==(e=t.name)?"":e)+'</span><button type="button" class="task__delete-button">Delete</button></li>')}.call(this,"model"in o?o.model:"undefined"!=typeof model?model:void 0),n.join("")}},{3:3}],13:[function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var o=function(){function t(e){r(this,t),this._el=e,this._bindings=[]}return t.prototype.bind=function(t,e,n,r){var o=function(t){t.target.closest(e)&&n.call(r||this,t)},i={event:t,listener:o};this._bindings.push(i),this._addEventListener(i)},t.prototype.unbind=function(){this._bindings.forEach(this._removeEventListener,this),this._el=null},t.prototype.rebind=function(t){this._el=t,this._bindings.forEach(this._addEventListener,this)},t.prototype._addEventListener=function(t){var e=t.event,n=t.listener;this._el&&this._el.addEventListener(e,n,!1)},t.prototype._removeEventListener=function(t){var e=t.event,n=t.listener;this._el&&this._el.removeEventListener(e,n,!1)},t}();n["default"]=o,e.exports=n["default"]},{}],14:[function(t,e,n){"use strict";function r(t,e){var n=void 0===arguments[2]?this:arguments[2],r=a(this,t);r.push({handler:e,context:n})}function o(t,e){var n=a(this,t);if(void 0===e)n.splice(0,n.length);else{var r=void 0;for(var o in n)if(e===n[o].handler){r=o;break}n.splice(r,1)}}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];var o=a(this,t);o.forEach(function(t){var e=t.handler,r=t.context;return e.apply(r,n)})}function a(t,e){return void 0===t[u]&&(t[u]={}),void 0===t[u][e]&&(t[u][e]=[]),t[u][e]}function s(t){Object.defineProperties(t.prototype,{on:{writable:!0,configurable:!0,value:r},off:{writable:!0,configurable:!0,value:o},trigger:{writable:!0,configurable:!0,value:i}})}n.__esModule=!0;var u=Symbol("events");n["default"]=s,e.exports=n["default"]},{}],15:[function(t,e,n){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var o=function(){function t(e){r(this,t),this._name=e,this._data={},this._read()}return t.prototype.put=function(t,e){this._data[t]=e,this._write()},t.prototype["delete"]=function(t){delete this._data[t],this._write()},t.prototype.list=function(){var t=this;return Object.keys(this._data).map(function(e){return t._data[e]})},t.prototype.save=function(t){this._data.push(t),this._write()},t.prototype._read=function(){var t=window.localStorage.getItem(this._name);t&&(this._data=JSON.parse(t))},t.prototype._write=function(){var t=JSON.stringify(this._data);window.localStorage.setItem(this._name,t)},t}();n["default"]=o,e.exports=n["default"]},{}],16:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};n.__esModule=!0;var i=t(14),a=r(i),s=function(){function t(){o(this,e)}var e=t;return t=a["default"](t)||t}();n["default"]=new s,e.exports=n["default"]},{14:14}],17:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};n.__esModule=!0;var a=t(16),s=r(a),u=t(7),l=r(u),c=t(9),f=r(c),d=function(t){function e(){o(this,e),t.call(this,{template:f["default"]}),this._currentVariant="all",this.bind("click",".radiogroup__radio",this._handleChange)}return i(e,t),e.prototype._handleChange=function(t){var e=t.target,n=this.queryAll(".radiogroup__radio");n.forEach(function(t){t.classList.toggle("radiogroup__radio_checked",t===e)});var r=e.dataset.variant;this._currentVariant!==r&&(this._currentVariant=r,s["default"].trigger("tasks:filter",r))},e}(l["default"]);n["default"]=d,e.exports=n["default"]},{16:16,7:7,9:9}],18:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};n.__esModule=!0;var a=t(7),s=r(a),u=t(20),l=r(u),c=t(19),f=r(c),d=t(17),p=r(d),h=t(10),_=r(h),v=function(t){function e(n){var r=n.tasks;o(this,e),t.call(this,{template:_["default"]}),this._tasks=r,console.log("hello world")}return i(e,t),e.prototype.render=function(){return this.renderTemplate(),this.renderCollection(this._tasks,l["default"],".app__task-list"),this.renderSubview(new f["default"],".app__task-form"),this.renderSubview(new p["default"],".app__footer"),this},e}(s["default"]);n["default"]=v,e.exports=n["default"]},{10:10,17:17,19:19,20:20,7:7}],19:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};n.__esModule=!0;var a=t(16),s=r(a),u=t(7),l=r(u),c=t(8),f=r(c),d=t(11),p=r(d),h=function(t){function e(){o(this,e),t.call(this,{template:p["default"]}),this.bind("submit",".task-form",this._handleSubmit)}return i(e,t),e.prototype._handleSubmit=function(t){t.preventDefault();var e=this.query(".task-form__name");if(0!==e.value.length){var n=new f["default"]({name:e.value});n.save(),s["default"].trigger("tasks:new",n),e.value=""}},e}(l["default"]);n["default"]=h,e.exports=n["default"]},{11:11,16:16,7:7,8:8}],20:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)};n.__esModule=!0;var a=t(7),s=r(a),u=t(12),l=r(u),c=function(t){function e(n){var r=n.model;o(this,e),t.call(this,{template:l["default"],model:r}),this.bind("click",".task__delete-button",this._handleDelete),this.bind("change",".task__checkbox",this._handleCheckbox)}return i(e,t),e.prototype._handleDelete=function(){this.model["delete"](),this.remove()},e.prototype._handleCheckbox=function(t){this.model.completed=t.target.checked,this.model.save(),this.render()},e}(s["default"]);n["default"]=c,e.exports=n["default"]},{12:12,7:7}]},{},[1]);
//# sourceMappingURL=bundle.js.map